<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shopping Cart</title>
  <link rel="icon" href="https://i.postimg.cc/BQVjR0tx/R.jpg" type="image/x-icon" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div class="logo">REPNT. Clothing</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="#products">Shop</a></li>
        <li><a href="cart.html" id="cart-icon">ðŸ›’ Cart</a></li>
      </ul>
    </nav>
    <button id="more-btn" onclick="toggleSidebar()">&#x2022;&#x2022;&#x2022;</button>
  </header>

  <div id="sidebar" class="sidebar">
    <button class="close-btn" onclick="toggleSidebar()">X</button>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="cart.html">ðŸ›’ Cart</a></li>
      <li><a href="#">Shirts</a></li>
      <li><a href="#">Shorts</a></li>
      <li><a href="#">Outerwear</a></li>
      <li><a href="about-us.html">About Us</a></li>
      <li><a href="#">Support</a></li>
    </ul>
  </div>

  <main>
    <h2>Your Cart</h2>
    <div id="cart-container" class="cart-container"></div>
  </main>

  <script>
    function toggleSidebar() {
      document.getElementById("sidebar").classList.toggle("active");
    }

    document.addEventListener('DOMContentLoaded', () => {
      const cartContainer = document.getElementById('cart-container');
      let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

      if (cartItems.length === 0) {
        cartContainer.innerHTML = '<p>Your cart is empty.</p>';
        return;
      }

      function renderCart() {
        cartContainer.innerHTML = '';
        if (cartItems.length === 0) {
          cartContainer.innerHTML = '<p>Your cart is empty.</p>';
          return;
        }

        cartItems.forEach((item, index) => {
          const basePrice = item.basePrice || item.price - (item.sizeModifier || 0);
          const sizeModifier = item.sizeModifier || 0;
          const totalPrice = (basePrice + sizeModifier) * item.quantity;

          const cartItemEl = document.createElement('div');
          cartItemEl.className = 'cart-item';
          cartItemEl.innerHTML = `
            <img src="${item.image}" alt="${item.name}" class="cart-item-image">
            <div class="cart-item-details">
              <h4>${item.name}</h4>
              <p>Size: ${item.size}</p>
              <p>Base Price: $${basePrice.toFixed(2)} +$${sizeModifier.toFixed(2)} = $${(basePrice + sizeModifier).toFixed(2)}</p>
              <p>Quantity: ${item.quantity}</p>
              <p>Total: $${totalPrice.toFixed(2)}</p>
              <button onclick="removeItem(${index})" class="remove-btn">Remove</button>
            </div>
          `;
          cartContainer.appendChild(cartItemEl);
        });
      }

      window.removeItem = function(index) {
        cartItems.splice(index, 1);
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        renderCart();
      };

      renderCart();
    });
  </script>
</body>
</html>
